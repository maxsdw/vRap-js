/* @preserve vRap.js JavaScript Framework v1.0.0 | Based on jQuery 2.1.1 | https://github.com/maxsdw/vRap-js | (c) 2014, Jonathan Mauricio SÃ¡nchez Sanabria | Released under the MIT license */
!function(){var a={Apps:{},Classes:{},Properties:{activeApp:null,idCounter:0},Query:{getApp:function(a){var b=vRap.Apps[a];return b?b:(vRap.Msg.alert("No app instance","vRap could not find the App instance, create it using the method vRap.newApp()"),!1)},getClass:function(a){var b=a.split("."),c=vRap.Classes;try{return $.each(b,function(a,b){c=c[b]}),c}catch(d){return void vRap.Msg.alert("No namespace","Bad namespace specification or namespace doesn't exist")}},getObj:function(a){var b,c=!1;return b=this.getApp(vRap.Properties.activeApp),$.each(b.objManager,function(d){var e=b.objManager[d][a];e&&(c=e)}),c},getObjsByClass:function(a){var b,c=!1;return b=this.getApp(vRap.Properties.activeApp),$.each(b.objManager,function(d){d===a&&(c=b.objManager[d])}),c},getStore:function(a){var b,c=!1;return b=this.getApp(vRap.Properties.activeApp),b.objManager.Store&&$.each(b.objManager.Store,function(b,d){(d.storeId===a||b===a)&&(c=d)}),c},getEvents:function(a){return $._data(a,"events")},getNodeFromXpath:function(a,b){var c=a.split("/"),d=b;return $.each(c,function(a,b){var c,e;a>0&&(c=b.split("[")[0],e=b.match(/[^[\]]+(?=])/g)[0],d=$(d.children(c)[e-1]))}),d}},Generators:{genIdNumber:function(){return vRap.Properties.idCounter+=1,vRap.Properties.idCounter}},Actions:{newApp:function(a){return"string"!==$.type(a.appName)&&(a.appName=String(a.appName)),vRap.Apps[a.appName]={objManager:{}},vRap.Properties.activeApp=a.appName,a.appName},switchApp:function(a){var b=vRap.Apps[a];return b?void(vRap.Properties.activeApp=a):(vRap.Msg.alert("No app instance",'vRap could not find any App named as "'+a+'", create it using the method vRap.newApp()'),!1)},define:function(a,b){var c,d,e=a.split("."),f=vRap.Classes;b.extend&&(c=vRap.Query.getClass(b.extend)),$.each(e,function(a,d){a<e.length-1?void 0===f[d]&&(f[d]={}):f[d]=function(a,f){function g(){return b.privateMethods}var h,i=b.privateProperties,f=f;c&&c.call(this),this.propGet=function(a){return i[a]},this.propSet=function(a,b){return i[a]=b,i[a]},this.runMethod=function(a){var b=$.makeArray(arguments).slice(1);return b.unshift(i),g()[a].apply(this,b)},this.getCallback=function(){return f},"Base"===e[0]&&"primitives"!==e[1]&&(h=d.toLowerCase(),this.className=d,this.type=h,this.id="vRap_"+h+"_"+vRap.Generators.genIdNumber()),$.extend(this,b.publicProperties),$.extend(this,a)},f=f[d]}),d=f,c&&(d.prototype=Object.create(c.prototype),d.prototype.constructor=d),b.publicMethods&&$.each(b.publicMethods,function(a,b){d.prototype[a]=b}),(b.staticProperties||b.staticMethods)&&$.each($.extend(b.staticProperties,b.staticMethods),function(a,b){d[a]=b})},create:function(a,b,c,d){var e,f,g,h,i;e=vRap.Query.getClass(a),e?(f=vRap.Query.getApp(vRap.Properties.activeApp),prevInstance=vRap.Query.getObj(b),f?prevInstance?vRap.Msg.alert("Duplicated object",'An object with the alias "'+b+'" already exists'):(g=a.split("."),lastSplitItem=g[g.length-1],h=f.objManager[lastSplitItem],h||(h=f.objManager[lastSplitItem]={}),i=h[b]=new e(c,d),i.alias=b,i.init?i.init():vRap.Msg.alert("No init method",'The object constructor for "'+b+'" does not contain an init() method.')):vRap.Msg.alert("No active app","There is no active App")):vRap.Msg.alert("Class doesn't exist",'The class "'+a+"\" doesn't exist.")},destroy:function(a,b){var c,d=this,e=vRap.Query.getApp(vRap.Properties.activeApp),f=vRap.Query.getObj(a),g=vRap.Query.getStore(a);f?(delete e.objManager[f.className][a],c=f.domEl,c.length>0&&c.fadeOut(function(){c.remove(),c.trigger("destroy")}),f.items&&$.isArray(f.items)&&$.each(f.items,function(a,b){d.destroy(b.alias)})):g&&delete e.objManager.Store[g.alias],b&&b()},destroyByType:function(a){var b=this;$.each(vRap.Query.getObjsByClass(a),function(a,c){b.destroy(c.alias)})},addCustomListener:function(a){var b=vRap.Query.getObj(a.component).domEl;b.off(a.eventType),b.on(a.eventType,a.method)},capitalizeFirstChar:function(a){return a.charAt(0).toUpperCase()+a.slice(1)},clearTextSelection:function(){window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty()}},Msg:{alert:function(a,b){console.log(a,b)}}};window.vRap||(window.vRap=a)}(),vRap.Actions.define("Base.primitives.Controller",{extend:"Base.primitives.Foundation",publicProperties:{style:"default"},publicMethods:{}}),vRap.Actions.define("Base.primitives.Foundation",{publicProperties:{},publicMethods:{}}),vRap.Actions.define("Base.primitives.Model",{extend:"Base.primitives.Foundation",publicProperties:{},publicMethods:{}}),vRap.Actions.define("Base.primitives.View",{extend:"Base.primitives.Foundation",publicProperties:{style:"default"},publicMethods:{}});
//# sourceMappingURL=vrap-js-1.0.0.min.js.map